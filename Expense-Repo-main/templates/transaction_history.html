{%include 'navbar.html'%}
{% block content %}

<head>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

</head>
<style>
  .modal-header {
    background: #F7941E;
    color: #fff;
  }

  .required:after {
    content: "*";
    color: red;
  }

  h2 {
    margin-top: 40px;
    text-align: center;
  }

  .row {
    margin-top: 100px;
  }

  body {
    background-color: beige;
    background-image: linear-gradient(to right, rgb(164, 188, 203), rgb(64, 133, 158), rgb(157, 215, 218));
  }

  table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }

  td,
  th {
    border: 3px solid;
    text-align: left;
    padding: 8px;
    font-size: large;
  }

  .histroy {
    position: absolute;
    width: 40%;
    text-align: center;
    margin-left: 500px;
  }

  h1 {
    align-content: center;

  }

  /* .jumbotron{
    background: rgba(255, 255, 255, 0.25);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border-radius: 10px;
  } */

  nav {
    background-color: rgb(255, 255, 255);
    box-shadow: 1px 1px 10px rgb(77, 73, 73);
    display: flex;
    position: sticky;
    top: 0;
    z-index: 2;
  }

  .left {
    align-items: center;
    display: flex;
    flex: 4;
  }

  .center{
    flex:2;
  }

  .right {
    align-items: center;
    display: flex;
    flex: 1;
  }

  img {
    width: 9%;
  }

  p {
    margin-left: 1.5rem;
    margin-top: 1rem;
    cursor: pointer;
  }

  .btn {
    padding: 0.2rem;
  }

  a {
    text-decoration: none;
    color: #1c8adb;
    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
  }
</style>

<div class="container">
  <div class="row">
    <div class="col md-12">
      <div class="jumbotron p-3">
        <h2>MANAGE YOUR <b>TRANSACTIONS</b><button type="button" class="btn btn-success float-left"
            data-bs-toggle="modal" data-bs-target="#myModal">Add New Transaction</button><button name="history_logout" type="button"
            class="btn btn-danger float-right">Logout</button></h2>
        <div class="modal" id="myModal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Add Transaction</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
              </div>
              <div class="modal-body">
                <form>
                  <div class="mb-3">
                    <label class="form-label required">Name</label>
                    <input type="text" name="add_transaction_name" class="form-control" required="1">
                  </div>
                  <div class="mb-3">
                    <label class="form-label required">Amount</label>
                    <input type="number" name="add_transaction_amount" class="form-control" required="1">
                  </div>
                </form>
              </div>
              <div class="modal-footer form-group">
                <button type="submit" class="btn btn-primary">Add Transaction</button>
                <button type="submit" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
        <table class="table table-hover table-dark">
          <tr>
            <th>ID</th>
            <th> Name </th>
            <th> Amount </th>
            <th></th>
            <th></th>
          </tr>
          <br>
          {% for re in new_task_history %}
          <tr>
            <td>{{re['_id']}}</td>
            <td>{{re['name']}}</td>
            <td>{{re['amount']}}</td>

            <td>
              <a href="" class="btn btn-warning btn-xs" data-bs-toggle="modal" data-bs-target="#modaledit">Edit</a>
            </td>
            <td>
              <a href="" class="btn btn-danger btn-xs"
                onclick="return confirm('Are you sure you want to delete ?')">Delete</a>
            </td>
          </tr>


          <div id="modaledit" class="modal fade">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Edit Details</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                  <form>
                    <div class="mb-3">
                      <label class="form-label required">Name</label>
                      <input type="text" class="form-control" required>
                    </div>
                    <div class="mb-3">
                      <label class="form-label required">Amount</label>
                      <input type="number" class="form-control" required>
                    </div>
                  </form>
                </div>
                <div class="modal-footer">
                  <button type="submit" class="btn btn-primary">Update</button>
                  <button type="submit" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>




          {% endfor %}
        </table>
      </div>
    </div>
  </div>
</div>
{%endblock%}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>